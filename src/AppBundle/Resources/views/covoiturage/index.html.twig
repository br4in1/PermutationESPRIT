{% extends 'base.html.twig' %}

{% block body %}
    <div class="container">
        <div class="row">


            <div class="col-md-12">

                <!-- Sorting - Filtering Section -->
                <div class="row margin-bottom-25 margin-top-30">

                    <div class="col-md-8">
                            <a class="button medium border sign-in popup-with-zoom-anim" href="#sign-in-dialog">Proposer un trajet</a>
                    </div>


                    <div class="col-md-4">
                        <input type="text" placeholder="Lieu">
                    </div>



                </div>

                <!-- Sorting - Filtering Section / End -->


                <div class="row">

                    {% for covoiturage in covoiturages %}
                        <!-- Listing Item -->

                        <div class="col-md-12">
                            <div class="col-md-1">


                            </div>
                            <div class="col-md-2" style="padding-top: 20px;padding-left: 50px">

                                    <img style="height: 110px; width: 110px;" id="user-img" src="{{ asset('assets/images/users_pics/' ~ covoiturage.user.picture) }}" alt=""><br>
                                   <h5 style="padding-left: 5px"> {{ covoiturage.user.firstname~" "~covoiturage.user.lastname }}</h5>

                            </div>
                                <div class="col-md-7">
                            <div href="#" class="listing-item-container compact">
                                <div class="listing-item">
                                    <img src="{{ asset('assets/cov.jpg') }}" alt="">
                                    <div class="listing-badge now-open">{% if covoiturage.type==1 %} Quotidien {% else %} Simple {% endif %}</div>
                                    <div class="listing-item-details">
                                        <ul>
                                            <li>{{ covoiturage.date|date('F jS \\a\\t g:ia') }}</li>
                                        </ul>
                                    </div>
                                    <div class="listing-item-content">
                                        <h2 style="color: #fff;">{{ covoiturage.depart }}  <i class="fa fa-arrow-right"></i> {{ covoiturage.destination }} {% if covoiturage.fumeur==1 %} <img src="{{ asset('assets/smoking.png') }}" style=" width: 30px; margin-left: 5px"> {% else %} <img src="{{ asset('assets/no-smoking.png') }}" style=" width: 30px; margin-left: 5px"> {% endif %}</h2>
                                        <span>Contact: <a style="color: snow;" href="#">{{ covoiturage.user.phone ~ " - " ~ covoiturage.user.username }}</a></span>


                                    </div>
                                </div>
                            </div>
                                </div>
                            <div class="col-md-3">


                            </div>

                        </div>
                        <hr>


                    {% endfor %}
                    <!-- Modal -->
                    <div id="sign-in-dialog" class="zoom-anim-dialog mfp-hide">
                        <div class="small-dialog-header">
                            <h3>Nouveau Trajet</h3>
                        </div>
                        <div class="sign-in-form style-1">
                            {{ form_start(form) }}
                            {{ form_widget(form) }}
                            <!-- Date Picker - docs: http://www.vasterad.com/docs/listeo/#!/date_picker -->
                            <div class="col-lg-6 col-md-12">
                                <input type="text" id="booking-date" data-lang="en" data-large-mode="true" data-large-default="true" data-min-year="2017" data-max-year="2020" data-lock="from">
                            </div>

                            <!-- Time Picker - docs: http://www.vasterad.com/docs/listeo/#!/time_picker -->
                            <div class="col-lg-6 col-md-12">
                                <input type="text" id="booking-time" value="9:00 am">
                            </div>
                            <input type="text" data-option="value" id="date-picker" />
                            <button type="submit" class="button border margin-top-10 float-right">Confirmer</button>
                            {{ form_end(form) }}
                        </div>
                    </div>

                </div>

                <!-- Pagination -->
                <div class="clearfix"></div>
                <div class="row">
                    <div class="col-md-12">
                        <!-- Pagination -->
                        <div class="pagination-container margin-top-20 margin-bottom-40">
                            <nav class="pagination">
                                <ul>
                                    <li><a href="#" class="current-page">1</a></li>
                                    <li><a href="#">2</a></li>
                                    <li><a href="#">3</a></li>
                                    <li><a href="#"><i class="sl sl-icon-arrow-right"></i></a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
                <!-- Pagination / End -->

            </div>

        </div>
    </div>

 {% block javascripts %}
     <!-- Date Picker - docs: http://www.vasterad.com/docs/listeo/#!/date_picker -->
     <link href="{{ asset('assets/css/plugins/datedropper.css') }}" rel="stylesheet" type="text/css">
     <script src="{{ asset('assets/scripts/datedropper.js') }}"></script>
     <script>$('#booking-date').dateDropper();</script>

     <!-- Time Picker - docs: http://www.vasterad.com/docs/listeo/#!/time_picker -->
     <script src="{{ asset('assets/scripts/timedropper.js') }}"></script>
     <link rel="stylesheet" type="text/css" href="{{ asset('assets/css/plugins/timedropper.css') }}">
     <script>
         this.$('#booking-time').timeDropper({
             setCurrentTime: false,
             meridians: true,
             primaryColor: "#f91942",
             borderColor: "#f91942",
             minutesInterval: '15'
         });

         var $clocks = $('.td-input');
         _.each($clocks, function(clock){
             clock.value = null;
         });
     </script>
 {% endblock %}
{% endblock %}


